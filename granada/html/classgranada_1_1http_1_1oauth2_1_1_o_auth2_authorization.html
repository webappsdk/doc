<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Granada: granada::http::oauth2::OAuth2Authorization Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pomegranate-th-min.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Granada
   &#160;<span id="projectnumber">1.54.0</span>
   </div>
   <div id="projectbrief">Structured layer on top of C++ REST SDK for building server applications in C++. Granada implements sessions, server side plug-in framework, C++ OAuth 2.0 server, data storage access, server script running, server browsing.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegranada.html">granada</a></li><li class="navelem"><b>http</b></li><li class="navelem"><b>oauth2</b></li><li class="navelem"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html">OAuth2Authorization</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">granada::http::oauth2::OAuth2Authorization Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="oauth2_8h_source.html">oauth2.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for granada::http::oauth2::OAuth2Authorization:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.png" usemap="#granada::http::oauth2::OAuth2Authorization_map" alt=""/>
  <map id="granada::http::oauth2::OAuth2Authorization_map" name="granada::http::oauth2::OAuth2Authorization_map">
<area href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity.html" alt="granada::http::oauth2::OAuth2Entity" shape="rect" coords="146,0,429,24"/>
<area href="classgranada_1_1http_1_1oauth2_1_1_map_o_auth2_authorization.html" alt="granada::http::oauth2::MapOAuth2Authorization" shape="rect" coords="0,112,283,136"/>
<area href="classgranada_1_1http_1_1oauth2_1_1_redis_o_auth2_authorization.html" alt="granada::http::oauth2::RedisOAuth2Authorization" shape="rect" coords="293,112,576,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab9d91e829acc4d37cf4b5d9573d53902"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#ab9d91e829acc4d37cf4b5d9573d53902">OAuth2Authorization</a> ()</td></tr>
<tr class="separator:ab9d91e829acc4d37cf4b5d9573d53902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98c617c771502a3bf7a53a0626e283f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#a98c617c771502a3bf7a53a0626e283f6">OAuth2Authorization</a> (const <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> &amp;oauth2_parameters, <a class="el" href="classgranada_1_1http_1_1session_1_1_session_factory.html">granada::http::session::SessionFactory</a> *session_factory)</td></tr>
<tr class="separator:a98c617c771502a3bf7a53a0626e283f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e50ccc2f74b7b0fa278470fcc0bc9c"><td class="memItemLeft" align="right" valign="top">virtual <br class="typebreak"/>
<a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#ae1e50ccc2f74b7b0fa278470fcc0bc9c">Grant</a> (web::http::http_request &amp;request, web::http::http_response &amp;response)</td></tr>
<tr class="separator:ae1e50ccc2f74b7b0fa278470fcc0bc9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9a253aaf11afb930b7c89369f8a72c5"><td class="memItemLeft" align="right" valign="top">virtual web::json::value&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#aa9a253aaf11afb930b7c89369f8a72c5">Information</a> ()</td></tr>
<tr class="separator:aa9a253aaf11afb930b7c89369f8a72c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a567f73124d2bddb6b0e8d66f57a6e128"><td class="memItemLeft" align="right" valign="top">virtual web::json::value&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#a567f73124d2bddb6b0e8d66f57a6e128">Delete</a> ()</td></tr>
<tr class="separator:a567f73124d2bddb6b0e8d66f57a6e128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity.html">granada::http::oauth2::OAuth2Entity</a></td></tr>
<tr class="memitem:a03a3b2c6da58844982bfb113159fe54b inherit pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td class="memItemLeft" align="right" valign="top">virtual <br class="typebreak"/>
<a class="el" href="classgranada_1_1cache_1_1_cache_handler.html">granada::cache::CacheHandler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity.html#a03a3b2c6da58844982bfb113159fe54b">cache</a> ()</td></tr>
<tr class="separator:a03a3b2c6da58844982bfb113159fe54b inherit pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae27845944eb913ce67b32f13764e6dd4 inherit pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td class="memItemLeft" align="right" valign="top">virtual <br class="typebreak"/>
<a class="el" href="classgranada_1_1crypto_1_1_cryptograph.html">granada::crypto::Cryptograph</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity.html#ae27845944eb913ce67b32f13764e6dd4">cryptograph</a> ()</td></tr>
<tr class="separator:ae27845944eb913ce67b32f13764e6dd4 inherit pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd3b1e1246a3919d0df1249cb31b73b inherit pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td class="memItemLeft" align="right" valign="top">virtual <br class="typebreak"/>
<a class="el" href="classgranada_1_1crypto_1_1_nonce_generator.html">granada::crypto::NonceGenerator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity.html#a6cd3b1e1246a3919d0df1249cb31b73b">nonce_generator</a> ()</td></tr>
<tr class="separator:a6cd3b1e1246a3919d0df1249cb31b73b inherit pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da469dcdadee8d26198c0cca4868b8a inherit pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td class="memItemLeft" align="right" valign="top">virtual const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity.html#a4da469dcdadee8d26198c0cca4868b8a">Exists</a> ()</td></tr>
<tr class="separator:a4da469dcdadee8d26198c0cca4868b8a inherit pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa68d3d7c80b6fc4a970d4c50ea1f25 inherit pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity.html#adaa68d3d7c80b6fc4a970d4c50ea1f25">Load</a> ()</td></tr>
<tr class="separator:adaa68d3d7c80b6fc4a970d4c50ea1f25 inherit pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ff93a421d9a3b410035229441cd420 inherit pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity.html#a44ff93a421d9a3b410035229441cd420">Load</a> (const std::string &amp;identifier)</td></tr>
<tr class="separator:a44ff93a421d9a3b410035229441cd420 inherit pub_methods_classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a9439d02676d47acea878c43b5066ed6c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#a9439d02676d47acea878c43b5066ed6c">LoadProperties</a> ()</td></tr>
<tr class="separator:a9439d02676d47acea878c43b5066ed6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b262be56d8dd05d1dbe7e7f92d18802"><td class="memItemLeft" align="right" valign="top">virtual const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#a4b262be56d8dd05d1dbe7e7f92d18802">hash</a> () override</td></tr>
<tr class="separator:a4b262be56d8dd05d1dbe7e7f92d18802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b35a986d0e1a5ea3bacee9a17897491"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#a7b35a986d0e1a5ea3bacee9a17897491">CheckClient</a> (std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_client.html">granada::http::oauth2::OAuth2Client</a> &gt; &amp;oauth2_client, <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> &amp;oauth2_response)</td></tr>
<tr class="separator:a7b35a986d0e1a5ea3bacee9a17897491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af228237e279d889255a8bc9259a7eb0f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#af228237e279d889255a8bc9259a7eb0f">CheckCredentials</a> (<a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_client.html">granada::http::oauth2::OAuth2Client</a> *oauth2_client, std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_user.html">granada::http::oauth2::OAuth2User</a> &gt; &amp;oauth2_user, std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_code.html">granada::http::oauth2::OAuth2Code</a> &gt; &amp;oauth2_code, std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">granada::http::session::Session</a> &gt; &amp;oauth2_user_session, <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> &amp;oauth2_response, web::http::http_request &amp;request, web::http::http_response &amp;response)</td></tr>
<tr class="separator:af228237e279d889255a8bc9259a7eb0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81d820d31737b62934da112e21c0182a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#a81d820d31737b62934da112e21c0182a">CreateCode</a> (std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">granada::http::session::Session</a> &gt; &amp;oauth2_user_session, std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_code.html">granada::http::oauth2::OAuth2Code</a> &gt; &amp;oauth2_code, <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_user.html">granada::http::oauth2::OAuth2User</a> *oauth2_user, <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> &amp;oauth2_response, web::http::http_request &amp;request, web::http::http_response &amp;response)</td></tr>
<tr class="separator:a81d820d31737b62934da112e21c0182a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10ed63383b3bff72c413e4cb97ce539c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#a10ed63383b3bff72c413e4cb97ce539c">CreateAccessToken</a> (std::vector&lt; std::string &gt; &amp;roles, std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">granada::http::session::Session</a> &gt; &amp;oauth2_user_session, <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_user.html">granada::http::oauth2::OAuth2User</a> *oauth2_user, std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_code.html">granada::http::oauth2::OAuth2Code</a> &gt; &amp;oauth2_code, <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> &amp;oauth2_response, web::http::http_request &amp;request, web::http::http_response &amp;response)</td></tr>
<tr class="separator:a10ed63383b3bff72c413e4cb97ce539c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b2cf66c6893a0f3f8e2914247d367c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#ac8b2cf66c6893a0f3f8e2914247d367c">CreateRefreshToken</a> (<a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">granada::http::session::Session</a> *oauth2_client_session, std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_code.html">granada::http::oauth2::OAuth2Code</a> &gt; &amp;oauth2_code, <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> &amp;oauth2_response)</td></tr>
<tr class="separator:ac8b2cf66c6893a0f3f8e2914247d367c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca2cf836a071e72d10b49b5c2a809692"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#aca2cf836a071e72d10b49b5c2a809692">CheckRoleAllowance</a> (std::vector&lt; std::string &gt; &amp;roles, <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_client.html">granada::http::oauth2::OAuth2Client</a> *oauth2_client, <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_user.html">granada::http::oauth2::OAuth2User</a> *oauth2_user)</td></tr>
<tr class="separator:aca2cf836a071e72d10b49b5c2a809692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa809267f1a947fb1279df3ac5960abf4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#aa809267f1a947fb1279df3ac5960abf4">AssignRolesToClientSession</a> (std::vector&lt; std::string &gt; &amp;roles, const web::json::value &amp;user_roles, <a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">granada::http::session::Session</a> *oauth2_client_session)</td></tr>
<tr class="separator:aa809267f1a947fb1279df3ac5960abf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5cd4183af1d3048b156d5e9ed206ec2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#aa5cd4183af1d3048b156d5e9ed206ec2">AssignRolesToOAuth2UserSession</a> (std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">granada::http::session::Session</a> &gt; &amp;oauth2_user_session, const web::json::value &amp;user_roles, web::http::http_request &amp;request, web::http::http_response &amp;response)</td></tr>
<tr class="separator:aa5cd4183af1d3048b156d5e9ed206ec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a320c95f7b749b4405de6ffe6cba74748"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a320c95f7b749b4405de6ffe6cba74748"></a>
virtual <br class="typebreak"/>
<a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_factory.html">granada::http::oauth2::OAuth2Factory</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>factory</b> ()</td></tr>
<tr class="separator:a320c95f7b749b4405de6ffe6cba74748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a776c628fc86aeb8bf55279d31d34266e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a776c628fc86aeb8bf55279d31d34266e"></a>
virtual <br class="typebreak"/>
<a class="el" href="classgranada_1_1http_1_1session_1_1_session_factory.html">granada::http::session::SessionFactory</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>session_factory</b> ()</td></tr>
<tr class="separator:a776c628fc86aeb8bf55279d31d34266e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6aad91d0b7d026a7a634befaba43ff1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgranada_1_1http_1_1session_1_1_session_factory.html">granada::http::session::SessionFactory</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#a6aad91d0b7d026a7a634befaba43ff1b">session_factory_</a></td></tr>
<tr class="separator:a6aad91d0b7d026a7a634befaba43ff1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9309816ee0668ad13a4ac51358eb54c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#a9309816ee0668ad13a4ac51358eb54c7">oauth2_parameters_</a></td></tr>
<tr class="separator:a9309816ee0668ad13a4ac51358eb54c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a7b446e21fc505db40759a3b74973ae89"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#a7b446e21fc505db40759a3b74973ae89">cache_namespace_</a></td></tr>
<tr class="separator:a7b446e21fc505db40759a3b74973ae89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208febb829d5cbf043394c98b7950652"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#a208febb829d5cbf043394c98b7950652">oauth2_use_refresh_token_</a></td></tr>
<tr class="separator:a208febb829d5cbf043394c98b7950652"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Authorize a client. Authorization Code Grant and Implicit Grant. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab9d91e829acc4d37cf4b5d9573d53902"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">granada::http::oauth2::OAuth2Authorization::OAuth2Authorization </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor Load properties. </p>

</div>
</div>
<a class="anchor" id="a98c617c771502a3bf7a53a0626e283f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">granada::http::oauth2::OAuth2Authorization::OAuth2Authorization </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>oauth2_parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1session_1_1_session_factory.html">granada::http::session::SessionFactory</a> *&#160;</td>
          <td class="paramname"><em>session_factory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor Load properties. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa809267f1a947fb1279df3ac5960abf4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::oauth2::OAuth2Authorization::AssignRolesToClientSession </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>roles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const web::json::value &amp;&#160;</td>
          <td class="paramname"><em>user_roles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">granada::http::session::Session</a> *&#160;</td>
          <td class="paramname"><em>oauth2_client_session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Assign to a client session a number of roles and also fill the properties of the roles based on the user's roles properties. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">roles</td><td>Roles manage permissions over a certain resource. Example: "msg.insert" role allows the owner of the session to create user's messages. </td></tr>
    <tr><td class="paramname">oauth2_user</td><td>Oauth 2.0 user. </td></tr>
    <tr><td class="paramname">oauth2_client_session</td><td>Session of the OAuth 2.0 client used to access to the user's resources. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa5cd4183af1d3048b156d5e9ed206ec2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::oauth2::OAuth2Authorization::AssignRolesToOAuth2UserSession </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">granada::http::session::Session</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>oauth2_user_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const web::json::value &amp;&#160;</td>
          <td class="paramname"><em>user_roles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">web::http::http_request &amp;&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">web::http::http_response &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Once a user logs into the authorization server a session is created, this session is used so the user does not have to loggin each time a client request an authorization over his resources. This session has to contain the user's roles (permissions) and it's properties so we can then give them to the client if requested. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">oauth2_user_session</td><td>The session of the user logged in the authorization server. </td></tr>
    <tr><td class="paramname">oauth2_user</td><td>OAuth 2.0 user. Used to get the roles and its properties and give them to the session. </td></tr>
    <tr><td class="paramname">request</td><td>HTTP request. </td></tr>
    <tr><td class="paramname">response</td><td>HTTP response. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7b35a986d0e1a5ea3bacee9a17897491"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::oauth2::OAuth2Authorization::CheckClient </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_client.html">granada::http::oauth2::OAuth2Client</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>oauth2_client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>oauth2_response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks the validity of a client based on the client URI and the client id. If something is wrong explicit it in oauth2_response filling the error and the error_description members.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">oauth2_client</td><td>OAuth 2.0 client. </td></tr>
    <tr><td class="paramname">oauth2_response</td><td>OAuth 2.0 parameters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af228237e279d889255a8bc9259a7eb0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::oauth2::OAuth2Authorization::CheckCredentials </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_client.html">granada::http::oauth2::OAuth2Client</a> *&#160;</td>
          <td class="paramname"><em>oauth2_client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_user.html">granada::http::oauth2::OAuth2User</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>oauth2_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_code.html">granada::http::oauth2::OAuth2Code</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>oauth2_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">granada::http::session::Session</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>oauth2_user_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>oauth2_response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">web::http::http_request &amp;&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">web::http::http_response &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks the validity of the provided code, client credentials or user credentials, depending on the grant type and the provided credentials. If something is wrong explicit it in oauth2_response filling the error and the error_description members.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">oauth2_client</td><td>OAuth 2.0 client. Used in case we need to check client credentials. </td></tr>
    <tr><td class="paramname">oauth2_user</td><td>OAuth 2.0 user. Used in case we need to check user credential. </td></tr>
    <tr><td class="paramname">oauth2_code</td><td>OAuth 2.0 code. Used in case a code has been provided and we need to check its validity. </td></tr>
    <tr><td class="paramname">oauth2_user_session</td><td>Session. In case the user has already provided his credentials before, he is already "logged" in our system, we don't try to validate his credentials, instead we check that his session is valid and retrieve the username from the session properties. </td></tr>
    <tr><td class="paramname">oauth2_response</td><td>OAuth 2.0 parameters containing the response: error, code or access token. </td></tr>
    <tr><td class="paramname">request</td><td>HTTP request. </td></tr>
    <tr><td class="paramname">response</td><td>HTTP response. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aca2cf836a071e72d10b49b5c2a809692"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool granada::http::oauth2::OAuth2Authorization::CheckRoleAllowance </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>roles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_client.html">granada::http::oauth2::OAuth2Client</a> *&#160;</td>
          <td class="paramname"><em>oauth2_client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_user.html">granada::http::oauth2::OAuth2User</a> *&#160;</td>
          <td class="paramname"><em>oauth2_user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks if the code or token requested are allowed to have the asked scope or level of acces to the user's resources. Talking about server sessions: if they are allowed to have the asked roles. This function checks if the client is allowed to have the asked role AND if the user is allowed to give the client the authorization to have the asked role. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">roles</td><td>Roles manage permissions over a certain resource. Example: "msg.insert" role allows the owner of the session to create user's messages. </td></tr>
    <tr><td class="paramname">oauth2_client</td><td>OAuth 2.0 client. </td></tr>
    <tr><td class="paramname">oauth2_user</td><td>Oauth 2.0 user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the client is allowed to have the asked roles and the user can authorize the client to have them. </dd></dl>

</div>
</div>
<a class="anchor" id="a10ed63383b3bff72c413e4cb97ce539c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::oauth2::OAuth2Authorization::CreateAccessToken </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>roles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">granada::http::session::Session</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>oauth2_user_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_user.html">granada::http::oauth2::OAuth2User</a> *&#160;</td>
          <td class="paramname"><em>oauth2_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_code.html">granada::http::oauth2::OAuth2Code</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>oauth2_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>oauth2_response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">web::http::http_request &amp;&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">web::http::http_response &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a token that permits to have a limited access to some user's ressources. If something goes wrong explicit it in oauth2_response filling the error and the error_description members.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">roles</td><td>Roles we want to give to the "token" (in fact it will be the session that will hold the roles not the token). </td></tr>
    <tr><td class="paramname">oauth2_user_session</td><td>The session of the user logged in the authorization server. </td></tr>
    <tr><td class="paramname">oauth2_user</td><td>OAuth 2.0 user. Used to get the roles of a user to store them as a maximum scope in his session. Only in case of an implicit grant. </td></tr>
    <tr><td class="paramname">oauth2_code</td><td>Auth 2.0 code. Code that will be used in case we want to create a refresh token. (Refresh tokens are in our case the same as an OAuth 2.0 code). </td></tr>
    <tr><td class="paramname">oauth2_response</td><td>OAuth 2.0 parameters containing the response: error or generated code. </td></tr>
    <tr><td class="paramname">request</td><td>HTTP request. </td></tr>
    <tr><td class="paramname">response</td><td>HTTP response. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a81d820d31737b62934da112e21c0182a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::oauth2::OAuth2Authorization::CreateCode </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">granada::http::session::Session</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>oauth2_user_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_code.html">granada::http::oauth2::OAuth2Code</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>oauth2_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_user.html">granada::http::oauth2::OAuth2User</a> *&#160;</td>
          <td class="paramname"><em>oauth2_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>oauth2_response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">web::http::http_request &amp;&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">web::http::http_response &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates an OAuth 2.0 unique code for a client so it can then use it to request an acces_token to have access to user's resources. If something goes wrong explicit it in oauth2_response filling the error and the error_description members.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">oauth2_user_session</td><td>The session of the user logged in the authorization server. </td></tr>
    <tr><td class="paramname">oauth2_code</td><td>OAuth 2.0 code. Will be filled with new data. </td></tr>
    <tr><td class="paramname">oauth2_user</td><td>OAuth 2.0 user. Used to get the roles of a user to store them as a maximum scope in his session. </td></tr>
    <tr><td class="paramname">oauth2_response</td><td>OAuth 2.0 parameters containing the response: error or generated code. </td></tr>
    <tr><td class="paramname">request</td><td>HTTP request. </td></tr>
    <tr><td class="paramname">response</td><td>HTTP response. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac8b2cf66c6893a0f3f8e2914247d367c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::oauth2::OAuth2Authorization::CreateRefreshToken </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">granada::http::session::Session</a> *&#160;</td>
          <td class="paramname"><em>oauth2_client_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_code.html">granada::http::oauth2::OAuth2Code</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>oauth2_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>oauth2_response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a refresh token. The refresh token can be used to obtain new access tokens using the same authorization grant. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">oauth2_client_session</td><td>OAuth 2.0 client session created when creating an access token. So it is the session that allows the client to access the user's resources. </td></tr>
    <tr><td class="paramname">oauth2_code</td><td>It is the refresh token. Refresh tokens are in our case the same as an OAuth 2.0 code </td></tr>
    <tr><td class="paramname">oauth2_response</td><td>OAuth 2.0 parameters containing the response: error or generated code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a567f73124d2bddb6b0e8d66f57a6e128"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual web::json::value granada::http::oauth2::OAuth2Authorization::Delete </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Delete the authorization given by a user to a client by deleting the codes and access_tokens and closing the sessions used by the client to access the resources of the user. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the return JSON of the <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_authorization.html#aa9a253aaf11afb930b7c89369f8a72c5">Information()</a> function. </dd></dl>

</div>
</div>
<a class="anchor" id="ae1e50ccc2f74b7b0fa278470fcc0bc9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> granada::http::oauth2::OAuth2Authorization::Grant </td>
          <td>(</td>
          <td class="paramtype">web::http::http_request &amp;&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">web::http::http_response &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Process Grant code authorization, Implicit grant, access token request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>HTTP request. </td></tr>
    <tr><td class="paramname">response</td><td>HTTP response; </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OAuth 2.0 parameters containing the response: error, code or access token. </dd></dl>

</div>
</div>
<a class="anchor" id="a4b262be56d8dd05d1dbe7e7f92d18802"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::string granada::http::oauth2::OAuth2Authorization::hash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the key made with the user, the client, the code and the session identifiers. This key is used to search the clients authorized by a user and their codes/tokens and consequently limit the clients authorizations when the user decides. Examples: Authorization Code Grant: oauth2.authorization:johndoe:gida8fZEFh9abpkg:Gkt2DkEv94jXLhOV7ezd8tdTro2qwOnjNM30hAAJrNPDllUBnzk9cxsIfMA1ecsY:Gkt2DkEv94jXLhOV7ezd8tdTro2qwOnjNM30hAAJrNPDllUBnzk9cxsIfMA1ecs52 oauth2.authorization:johndoe:gida8fZEFh9abpkg:Gkt2DkEv94jXLhOV7ezd8tdTro2qwOnjNM30hAAJrNPDllUBnzk9cxsIfMA1ecsY: Implicit Grant: oauth2.authorization:johndoe:gida8fZEFh9abpkg::Gkt2DkEv94jXLhOV7ezd8tdTro2qwOnjNM30hAAJrNPDllUBnzk9cxsIfMA1ecs52 </p>
<dl class="section return"><dt>Returns</dt><dd>Key made with the user, the client, the code and the session identifiers. </dd></dl>

<p>Reimplemented from <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity.html#a58298c4f01997efaee8eac83908235bd">granada::http::oauth2::OAuth2Entity</a>.</p>

</div>
</div>
<a class="anchor" id="aa9a253aaf11afb930b7c89369f8a72c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual web::json::value granada::http::oauth2::OAuth2Authorization::Information </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns information about the clients authorized by a given user or the codes used by a client to obtain access_tokens. The username and the client_id are taken from the oauth2_parameters_ member. </p>
<dl class="section return"><dt>Returns</dt><dd>JSON containing an array with the clients authorized by a user or a list with the codes used by a client. </dd></dl>

</div>
</div>
<a class="anchor" id="a9439d02676d47acea878c43b5066ed6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::oauth2::OAuth2Authorization::LoadProperties </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Loads properties given in the configuration file, if properties are not found, then default values included in granada/defaults.dat file are used. </p>

<p>Reimplemented from <a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_entity.html#afe596fe9ec56ce2e88a44b6badecc0ae">granada::http::oauth2::OAuth2Entity</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a7b446e21fc505db40759a3b74973ae89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string granada::http::oauth2::OAuth2Authorization::cache_namespace_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Namespace of the key of the entity data in the cache. Example: If we have the key : oauth2.client:value:L05l6pFaPFgZbtP9 =&gt; namespace is : oauth2.client:value: </p>

</div>
</div>
<a class="anchor" id="a9309816ee0668ad13a4ac51358eb54c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgranada_1_1http_1_1oauth2_1_1_o_auth2_parameters.html">granada::http::oauth2::OAuth2Parameters</a> granada::http::oauth2::OAuth2Authorization::oauth2_parameters_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>OAuth 2.0 Parameters. Parameters for use with the authorization endpoint, the token endpoint and the information and deletion endpoint. </p>

</div>
</div>
<a class="anchor" id="a208febb829d5cbf043394c98b7950652"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool granada::http::oauth2::OAuth2Authorization::oauth2_use_refresh_token_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If true when client request an access token a refresh token is also delivered. The refresh token can be used to obtain new access tokens using the same authorization grant. </p>

</div>
</div>
<a class="anchor" id="a6aad91d0b7d026a7a634befaba43ff1b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgranada_1_1http_1_1session_1_1_session_factory.html">granada::http::session::SessionFactory</a>* granada::http::oauth2::OAuth2Authorization::session_factory_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Session check point. Allows to have a unique point for checking and setting sessions. It is used to create a new session without knowing its type. Used to create OAuth 2.0 user sessions and OAuth 2.0 client sessions. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/opt/github_granada/Release/include/granada/http/oauth2/<a class="el" href="oauth2_8h_source.html">oauth2.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 18 2016 12:52:05 for Granada by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
