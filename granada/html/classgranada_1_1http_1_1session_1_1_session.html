<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Granada: granada::http::session::Session Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pomegranate-th-min.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Granada
   &#160;<span id="projectnumber">1.54.0</span>
   </div>
   <div id="projectbrief">Structured layer on top of C++ REST SDK for building server applications in C++. Granada implements sessions, server side plug-in framework, C++ OAuth 2.0 server, data storage access, server script running, server browsing.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegranada.html">granada</a></li><li class="navelem"><b>http</b></li><li class="navelem"><a class="el" href="namespacegranada_1_1http_1_1session.html">session</a></li><li class="navelem"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">Session</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classgranada_1_1http_1_1session_1_1_session-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">granada::http::session::Session Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="session_8h_source.html">session.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for granada::http::session::Session:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgranada_1_1http_1_1session_1_1_session.png" usemap="#granada::http::session::Session_map" alt=""/>
  <map id="granada::http::session::Session_map" name="granada::http::session::Session_map">
<area href="classgranada_1_1http_1_1session_1_1_map_session.html" alt="granada::http::session::MapSession" shape="rect" coords="0,56,214,80"/>
<area href="classgranada_1_1http_1_1session_1_1_redis_session.html" alt="granada::http::session::RedisSession" shape="rect" coords="224,56,438,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a69ca8e8ddd795acf516e7055a2590b34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a69ca8e8ddd795acf516e7055a2590b34">Session</a> ()</td></tr>
<tr class="separator:a69ca8e8ddd795acf516e7055a2590b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a684b52fc373e70d6b84aa6ab63964243"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a684b52fc373e70d6b84aa6ab63964243">Session</a> (const web::http::http_request &amp;request, web::http::http_response &amp;response)</td></tr>
<tr class="separator:a684b52fc373e70d6b84aa6ab63964243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10472d830975dfe79f10f8e9eb81b359"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a10472d830975dfe79f10f8e9eb81b359">Session</a> (const web::http::http_request &amp;request)</td></tr>
<tr class="separator:a10472d830975dfe79f10f8e9eb81b359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44675401442e0d23726e149bad106011"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a44675401442e0d23726e149bad106011">Session</a> (const std::string &amp;token)</td></tr>
<tr class="separator:a44675401442e0d23726e149bad106011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420ce061b994d8aaee84cafa2087f7e5"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a420ce061b994d8aaee84cafa2087f7e5">~Session</a> ()</td></tr>
<tr class="separator:a420ce061b994d8aaee84cafa2087f7e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb21765c70063d3c0dde240e9b2ac3f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a5cb21765c70063d3c0dde240e9b2ac3f">set</a> (const std::string token, const std::time_t update_time)</td></tr>
<tr class="separator:a5cb21765c70063d3c0dde240e9b2ac3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f0248d6397c9427f5eedb8b35df316a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a1f0248d6397c9427f5eedb8b35df316a">Open</a> ()</td></tr>
<tr class="separator:a1f0248d6397c9427f5eedb8b35df316a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c02c60d4ba34acde0ccc668923ff8b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a80c02c60d4ba34acde0ccc668923ff8b">Open</a> (web::http::http_response &amp;response)</td></tr>
<tr class="separator:a80c02c60d4ba34acde0ccc668923ff8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a661e63645dd8b56121b672372fa5d8d9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a661e63645dd8b56121b672372fa5d8d9">Update</a> ()</td></tr>
<tr class="separator:a661e63645dd8b56121b672372fa5d8d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74c9c865e03449b160c10fc9b791c256"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a74c9c865e03449b160c10fc9b791c256">Close</a> ()</td></tr>
<tr class="separator:a74c9c865e03449b160c10fc9b791c256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf3b42a62ad3cc9b3537ebd05e63920e"><td class="memItemLeft" align="right" valign="top">virtual const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#aaf3b42a62ad3cc9b3537ebd05e63920e">IsTimedOut</a> ()</td></tr>
<tr class="separator:aaf3b42a62ad3cc9b3537ebd05e63920e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4b3fa5674da9896d931db59b7a720b8"><td class="memItemLeft" align="right" valign="top">virtual const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#ad4b3fa5674da9896d931db59b7a720b8">IsTimedOut</a> (const long int &amp;extra_seconds)</td></tr>
<tr class="separator:ad4b3fa5674da9896d931db59b7a720b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af60bbd4f090c57f52a6a067741cd29d8"><td class="memItemLeft" align="right" valign="top">virtual const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#af60bbd4f090c57f52a6a067741cd29d8">IsValid</a> ()</td></tr>
<tr class="separator:af60bbd4f090c57f52a6a067741cd29d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0843a113c32493b51b312e64e77495ec"><td class="memItemLeft" align="right" valign="top">virtual const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a0843a113c32493b51b312e64e77495ec">IsGarbage</a> ()</td></tr>
<tr class="separator:a0843a113c32493b51b312e64e77495ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb08da48889e35da56930174023ba66d"><td class="memItemLeft" align="right" valign="top">virtual const long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#acb08da48889e35da56930174023ba66d">GetSessionTimeout</a> ()</td></tr>
<tr class="separator:acb08da48889e35da56930174023ba66d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6961456d7d0c976a972b3c1aa353c7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a8a6961456d7d0c976a972b3c1aa353c7">Write</a> (const std::string &amp;key, const std::string &amp;value)</td></tr>
<tr class="separator:a8a6961456d7d0c976a972b3c1aa353c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ee2a7404c1c940ea787979c5541241"><td class="memItemLeft" align="right" valign="top">virtual const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#ab9ee2a7404c1c940ea787979c5541241">Read</a> (const std::string &amp;key)</td></tr>
<tr class="separator:ab9ee2a7404c1c940ea787979c5541241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c9c65fb286192f8a08cb7ae394ad483"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a6c9c65fb286192f8a08cb7ae394ad483">Destroy</a> (const std::string &amp;key)</td></tr>
<tr class="separator:a6c9c65fb286192f8a08cb7ae394ad483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f89b2f22cb82217c30df5cba9cad81d"><td class="memItemLeft" align="right" valign="top">virtual web::json::value&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a5f89b2f22cb82217c30df5cba9cad81d">to_json</a> ()</td></tr>
<tr class="separator:a5f89b2f22cb82217c30df5cba9cad81d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f73ef3b3ae81a26b152ba967d8fc30b"><td class="memItemLeft" align="right" valign="top">virtual const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a3f73ef3b3ae81a26b152ba967d8fc30b">GetToken</a> ()</td></tr>
<tr class="separator:a3f73ef3b3ae81a26b152ba967d8fc30b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a855aeba5f125b389e04432ad136e1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a38a855aeba5f125b389e04432ad136e1">SetToken</a> (const std::string &amp;token)</td></tr>
<tr class="separator:a38a855aeba5f125b389e04432ad136e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b90f0da729a64491c0bd230ccfbbc11"><td class="memItemLeft" align="right" valign="top">virtual const std::time_t &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a8b90f0da729a64491c0bd230ccfbbc11">GetUpdateTime</a> ()</td></tr>
<tr class="separator:a8b90f0da729a64491c0bd230ccfbbc11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4923da0077f91cb41015a7e0bfb16c9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#af4923da0077f91cb41015a7e0bfb16c9">SetUpdateTime</a> (const std::time_t &amp;update_time)</td></tr>
<tr class="separator:af4923da0077f91cb41015a7e0bfb16c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad37055eb15740aa854c293b1efa1bebc"><td class="memItemLeft" align="right" valign="top">virtual <br class="typebreak"/>
<a class="el" href="classgranada_1_1http_1_1session_1_1_session_roles.html">granada::http::session::SessionRoles</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#ad37055eb15740aa854c293b1efa1bebc">roles</a> ()</td></tr>
<tr class="separator:ad37055eb15740aa854c293b1efa1bebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad76b6d81179842af3fbb6a3c7b6444a4"><td class="memItemLeft" align="right" valign="top">virtual <br class="typebreak"/>
<a class="el" href="classgranada_1_1http_1_1session_1_1_session_handler.html">granada::http::session::SessionHandler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#ad76b6d81179842af3fbb6a3c7b6444a4">session_handler</a> ()</td></tr>
<tr class="separator:ad76b6d81179842af3fbb6a3c7b6444a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab40a462033f9525967a598d19feb8b56"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classgranada_1_1_functions.html">granada::Functions</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#ab40a462033f9525967a598d19feb8b56">close_callbacks</a> ()</td></tr>
<tr class="separator:ab40a462033f9525967a598d19feb8b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a5ed74edd585f769780b2f478a8523666"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a5ed74edd585f769780b2f478a8523666">LoadProperties</a> ()</td></tr>
<tr class="separator:a5ed74edd585f769780b2f478a8523666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005c4d1b72b46724c565e61bda6d71bc"><td class="memItemLeft" align="right" valign="top">virtual const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a005c4d1b72b46724c565e61bda6d71bc">LoadSession</a> (const web::http::http_request &amp;request, web::http::http_response &amp;response)</td></tr>
<tr class="separator:a005c4d1b72b46724c565e61bda6d71bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa98bc37d1c539cb02f083d457f3b25f"><td class="memItemLeft" align="right" valign="top">virtual const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#aaa98bc37d1c539cb02f083d457f3b25f">LoadSession</a> (const web::http::http_request &amp;request)</td></tr>
<tr class="separator:aaa98bc37d1c539cb02f083d457f3b25f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8701256485af60d9354aaaf76a6e3d56"><td class="memItemLeft" align="right" valign="top">virtual const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a8701256485af60d9354aaaf76a6e3d56">LoadSession</a> (const std::string &amp;token)</td></tr>
<tr class="separator:a8701256485af60d9354aaaf76a6e3d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a728e17ccbfd136c485d170a1fb038497"><td class="memItemLeft" align="right" valign="top">virtual const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a728e17ccbfd136c485d170a1fb038497">session_data_hash</a> ()</td></tr>
<tr class="separator:a728e17ccbfd136c485d170a1fb038497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394168eb913cf9ab4dbe554d2c2baf7d"><td class="memItemLeft" align="right" valign="top">virtual const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a394168eb913cf9ab4dbe554d2c2baf7d">token_label</a> ()</td></tr>
<tr class="separator:a394168eb913cf9ab4dbe554d2c2baf7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ab2c00b8e950daf060e085845f9c906"><td class="memItemLeft" align="right" valign="top">virtual const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a8ab2c00b8e950daf060e085845f9c906">application_session_token_support</a> ()</td></tr>
<tr class="separator:a8ab2c00b8e950daf060e085845f9c906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a971d1fe570c275b55eac2da30f997372"><td class="memItemLeft" align="right" valign="top">virtual const long &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a971d1fe570c275b55eac2da30f997372">application_session_timeout</a> ()</td></tr>
<tr class="separator:a971d1fe570c275b55eac2da30f997372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529aadb0258ac8aa5ea0f6e925fd855a"><td class="memItemLeft" align="right" valign="top">virtual const long &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a529aadb0258ac8aa5ea0f6e925fd855a">session_garbage_extra_timeout</a> ()</td></tr>
<tr class="separator:a529aadb0258ac8aa5ea0f6e925fd855a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aad9c3bd3ec17f9a7bda43610e80e7ee5"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#aad9c3bd3ec17f9a7bda43610e80e7ee5">session_token_support_</a></td></tr>
<tr class="separator:aad9c3bd3ec17f9a7bda43610e80e7ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5902a2d6693e3303dae35431d70e4e6e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a5902a2d6693e3303dae35431d70e4e6e">token_</a></td></tr>
<tr class="separator:a5902a2d6693e3303dae35431d70e4e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41b9638ecdde26dc32c3ee1fac6639fa"><td class="memItemLeft" align="right" valign="top">std::time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a41b9638ecdde26dc32c3ee1fac6639fa">update_time_</a></td></tr>
<tr class="separator:a41b9638ecdde26dc32c3ee1fac6639fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:ac4d29f9726c48a6e70abec0934485e15"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#ac4d29f9726c48a6e70abec0934485e15">DEFAULT_SESSIONS_TOKEN_SUPPORT</a></td></tr>
<tr class="separator:ac4d29f9726c48a6e70abec0934485e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37565851726c422e7b7d2a3fd4e3c914"><td class="memItemLeft" align="right" valign="top">static std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a37565851726c422e7b7d2a3fd4e3c914">session_exists_mtx_</a></td></tr>
<tr class="separator:a37565851726c422e7b7d2a3fd4e3c914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0447fa734240b4dd831471520eca07b8"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a0447fa734240b4dd831471520eca07b8">token_label_</a></td></tr>
<tr class="separator:a0447fa734240b4dd831471520eca07b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20b01d0050f7d11d18eaeaeddf246017"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#a20b01d0050f7d11d18eaeaeddf246017">application_session_token_support_</a></td></tr>
<tr class="separator:a20b01d0050f7d11d18eaeaeddf246017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacb10d160b5e584d8ad097da69461ae2"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#aacb10d160b5e584d8ad097da69461ae2">application_session_timeout_</a></td></tr>
<tr class="separator:aacb10d160b5e584d8ad097da69461ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c99af2cf5d8dfa9884d82f6aade0b9"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html#ac3c99af2cf5d8dfa9884d82f6aade0b9">session_garbage_extra_timeout_</a></td></tr>
<tr class="separator:ac3c99af2cf5d8dfa9884d82f6aade0b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract <a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">Session</a> class that allows to manage session roles. Stores session token in cookies or GET or POST json objects. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a69ca8e8ddd795acf516e7055a2590b34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">granada::http::session::Session::Session </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor. </p>

</div>
</div>
<a class="anchor" id="a684b52fc373e70d6b84aa6ab63964243"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">granada::http::session::Session::Session </td>
          <td>(</td>
          <td class="paramtype">const web::http::http_request &amp;&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">web::http::http_response &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor. Loads session. Retrieves the token of the session from the HTTP request and loads a session using the session handler. If session does not exist or token is not found a new session is created. If session token is stored in cookies, a cookie will be set in the HTTP response object. This constructor is recommended for sessions that store token in cookie</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Http request. </td></tr>
    <tr><td class="paramname">response</td><td>Http response. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a10472d830975dfe79f10f8e9eb81b359"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">granada::http::session::Session::Session </td>
          <td>(</td>
          <td class="paramtype">const web::http::http_request &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor. Loads session. Retrieves the token of the session from the HTTP request and loads a session using the session handler. If session does not exist or token is not found a new session is created. This constructor is recommended for sessions that use get and post values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Http request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a44675401442e0d23726e149bad106011"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">granada::http::session::Session::Session </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor. Loads a session with the given token using the session handler. Use this loader if you have the token and you are not using cookies.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">Session</a> token. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a420ce061b994d8aaee84cafa2087f7e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual granada::http::session::Session::~Session </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a971d1fe570c275b55eac2da30f997372"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const long&amp; granada::http::session::Session::application_session_timeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the time in seconds that has to pass since the last session use until the session is usable. </p>
<dl class="section return"><dt>Returns</dt><dd>The time in seconds that has to pass since the last session use until the session is usable. </dd></dl>

</div>
</div>
<a class="anchor" id="a8ab2c00b8e950daf060e085845f9c906"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::string&amp; granada::http::session::Session::application_session_token_support </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns where the session token is stored: cookie || query || json by default. </p>
<dl class="section return"><dt>Returns</dt><dd>Where the session token is stored: cookie || query || json by default. </dd></dl>

</div>
</div>
<a class="anchor" id="a74c9c865e03449b160c10fc9b791c256"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::session::Session::Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Closes a session deleting it. And call all the close callback functions. </p>

</div>
</div>
<a class="anchor" id="ab40a462033f9525967a598d19feb8b56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classgranada_1_1_functions.html">granada::Functions</a>* granada::http::session::Session::close_callbacks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a pointer to the collection of functions that are called when closing the session.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the collection of functions that are called when session is closed. </dd></dl>

<p>Reimplemented in <a class="el" href="classgranada_1_1http_1_1session_1_1_map_session.html#a8b252b43af1229a1a286e9a9b59e92f7">granada::http::session::MapSession</a>, and <a class="el" href="classgranada_1_1http_1_1session_1_1_redis_session.html#a7b703a818508c0829dff3df1ac31464f">granada::http::session::RedisSession</a>.</p>

</div>
</div>
<a class="anchor" id="a6c9c65fb286192f8a08cb7ae394ad483"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::session::Session::Destroy </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destroy session data with given key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Data key or name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acb08da48889e35da56930174023ba66d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const long granada::http::session::Session::GetSessionTimeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of seconds the session is valid before it times out when not used. </p>
<dl class="section return"><dt>Returns</dt><dd>Timeout in seconds. </dd></dl>

</div>
</div>
<a class="anchor" id="a3f73ef3b3ae81a26b152ba967d8fc30b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::string&amp; granada::http::session::Session::GetToken </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the session unique token. </p>
<dl class="section return"><dt>Returns</dt><dd>token </dd></dl>

</div>
</div>
<a class="anchor" id="a8b90f0da729a64491c0bd230ccfbbc11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::time_t&amp; granada::http::session::Session::GetUpdateTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the last modification time. </p>
<dl class="section return"><dt>Returns</dt><dd>Last modification time. </dd></dl>

</div>
</div>
<a class="anchor" id="a0843a113c32493b51b312e64e77495ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const bool granada::http::session::Session::IsGarbage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the session is a garbage session, false if it is not. A garbage session is different from a not valid session. A session may not be valid but we still don't want to delete it immediately. Maybe we want to delete it after it has been timed out for three hours or when other conditions are true. This function is called by the functions that "clean" sessions from wherever they are stored. </p>
<dl class="section return"><dt>Returns</dt><dd>true is session is garbage, false if it is not. </dd></dl>

</div>
</div>
<a class="anchor" id="aaf3b42a62ad3cc9b3537ebd05e63920e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const bool granada::http::session::Session::IsTimedOut </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the session is timed out, false if it is not. </p>
<dl class="section return"><dt>Returns</dt><dd>true | false. </dd></dl>

</div>
</div>
<a class="anchor" id="ad4b3fa5674da9896d931db59b7a720b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const bool granada::http::session::Session::IsTimedOut </td>
          <td>(</td>
          <td class="paramtype">const long int &amp;&#160;</td>
          <td class="paramname"><em>extra_seconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the session is timed out since the given extra seconds, false if it is not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">extra_seconds</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true | false </dd></dl>

</div>
</div>
<a class="anchor" id="af60bbd4f090c57f52a6a067741cd29d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const bool granada::http::session::Session::IsValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the session is valid, false if it is not. The base session will only check if the session is timed out, but this function may be overriden if we need to add other validity factors. </p>
<dl class="section return"><dt>Returns</dt><dd>true if session is valid, false if it is not. </dd></dl>

</div>
</div>
<a class="anchor" id="a5ed74edd585f769780b2f478a8523666"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::session::Session::LoadProperties </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Method that loads the session properties: token label, token support, session timout... </p>

</div>
</div>
<a class="anchor" id="a005c4d1b72b46724c565e61bda6d71bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const bool granada::http::session::Session::LoadSession </td>
          <td>(</td>
          <td class="paramtype">const web::http::http_request &amp;&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">web::http::http_response &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Loads session. Retrieves the token of the session from the HTTP request and loads a session using the session handler. If session does not exist or token is not found a new session is created. This loader is recommended for sessions that store token in cookie</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Http request. </td></tr>
    <tr><td class="paramname">response</td><td>Http response. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if session has been retrieved or created successfuly. </dd></dl>

</div>
</div>
<a class="anchor" id="aaa98bc37d1c539cb02f083d457f3b25f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const bool granada::http::session::Session::LoadSession </td>
          <td>(</td>
          <td class="paramtype">const web::http::http_request &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Loads session. Retrieves the token of the session from the HTTP request and loads a session using the session handler. If session does not exist or token is not found a new session is created. This loader is recommended for sessions that use get and post values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Http request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if session has been retrieved or created successfuly. </dd></dl>

</div>
</div>
<a class="anchor" id="a8701256485af60d9354aaaf76a6e3d56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const bool granada::http::session::Session::LoadSession </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Loads a session with the given token using the session handler. Use this loader if you have the token and you are not using cookies.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">Session</a> token. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if session has been retrieved successfuly. </dd></dl>

</div>
</div>
<a class="anchor" id="a1f0248d6397c9427f5eedb8b35df316a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::session::Session::Open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Opens a new session with a unique token. </p>

</div>
</div>
<a class="anchor" id="a80c02c60d4ba34acde0ccc668923ff8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::session::Session::Open </td>
          <td>(</td>
          <td class="paramtype">web::http::http_response &amp;&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Opens a new session with a unique token and if session token support is a cookie it stores the token value in a cookie. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">response</td><td>Response to store the cookie with the session token. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab9ee2a7404c1c940ea787979c5541241"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::string granada::http::session::Session::Read </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read session data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key or name of the data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data as string. </dd></dl>

</div>
</div>
<a class="anchor" id="ad37055eb15740aa854c293b1efa1bebc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classgranada_1_1http_1_1session_1_1_session_roles.html">granada::http::session::SessionRoles</a>* granada::http::session::Session::roles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a pointer to the roles of a session. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the roles of the session. </dd></dl>

<p>Reimplemented in <a class="el" href="classgranada_1_1http_1_1session_1_1_map_session.html#af86ba54cdcfbd0c3e2d3826902687cb7">granada::http::session::MapSession</a>, and <a class="el" href="classgranada_1_1http_1_1session_1_1_redis_session.html#a3ab0cef3f63e517f143d9557402c54a2">granada::http::session::RedisSession</a>.</p>

</div>
</div>
<a class="anchor" id="a728e17ccbfd136c485d170a1fb038497"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::string granada::http::session::Session::session_data_hash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the key to identify the session data in the cache. </p>

</div>
</div>
<a class="anchor" id="a529aadb0258ac8aa5ea0f6e925fd855a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const long&amp; granada::http::session::Session::session_garbage_extra_timeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of seconds that needs to pass after a session is timed out to be considered garbage. </p>

</div>
</div>
<a class="anchor" id="ad76b6d81179842af3fbb6a3c7b6444a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classgranada_1_1http_1_1session_1_1_session_handler.html">granada::http::session::SessionHandler</a>* granada::http::session::Session::session_handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the pointer of <a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">Session</a> Handler that manages the session. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">Session</a> Handler. </dd></dl>

<p>Reimplemented in <a class="el" href="classgranada_1_1http_1_1session_1_1_map_session.html#a8dea6e341631d7f3df9c51ece22cc801">granada::http::session::MapSession</a>, and <a class="el" href="classgranada_1_1http_1_1session_1_1_redis_session.html#ae2f4363fd30481e0d040837f9bc25024">granada::http::session::RedisSession</a>.</p>

</div>
</div>
<a class="anchor" id="a5cb21765c70063d3c0dde240e9b2ac3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::session::Session::set </td>
          <td>(</td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::time_t&#160;</td>
          <td class="paramname"><em>update_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the value of the sessions, may be overriden in case we want to make other actions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">Session</a> token. </td></tr>
    <tr><td class="paramname">update_time</td><td><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">Session</a> update time. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a38a855aeba5f125b389e04432ad136e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::session::Session::SetToken </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the session unique token. </p>

</div>
</div>
<a class="anchor" id="af4923da0077f91cb41015a7e0bfb16c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::session::Session::SetUpdateTime </td>
          <td>(</td>
          <td class="paramtype">const std::time_t &amp;&#160;</td>
          <td class="paramname"><em>update_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the last modification time. </p>

</div>
</div>
<a class="anchor" id="a5f89b2f22cb82217c30df5cba9cad81d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual web::json::value granada::http::session::Session::to_json </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the session in a JSON object format. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">Session</a> in form of JSON object. Example:<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="stringliteral">&quot;token&quot;</span>       : <span class="stringliteral">&quot;cc9sKWG6PbhwyhP3EuBq8Fgve7ZycsRplduswcKIDwDuyrQ2jySsYG1v7gq1Vecf&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;update_time&quot;</span> :  <span class="stringliteral">&quot;6346464&quot;</span></div>
<div class="line">  <span class="stringliteral">&quot;timeout&quot;</span>     :  <span class="stringliteral">&quot;123456789&quot;</span></div>
<div class="line"> }</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a394168eb913cf9ab4dbe554d2c2baf7d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::string&amp; granada::http::session::Session::token_label </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the label of the token. It is used for example when a token has to be extracted from a cookie. </p>
<dl class="section return"><dt>Returns</dt><dd>Label of the token. </dd></dl>

</div>
</div>
<a class="anchor" id="a661e63645dd8b56121b672372fa5d8d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::session::Session::Update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Updates a session, updating the session update time to now and saving it. That means the session will timeout in now + timeout. It will keep the session alive. </p>

</div>
</div>
<a class="anchor" id="a8a6961456d7d0c976a972b3c1aa353c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void granada::http::session::Session::Write </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write session data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key or name of the data. </td></tr>
    <tr><td class="paramname">value</td><td>Data as string. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aacb10d160b5e584d8ad097da69461ae2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long granada::http::session::Session::application_session_timeout_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Time in seconds that has to pass since the last session use until the session is usable. This value is taken from the "session_timeout" property of the server.conf file. If no value is indicated the value will be taken from the "session_timeout" property in defaults.dat </p>

</div>
</div>
<a class="anchor" id="a20b01d0050f7d11d18eaeaeddf246017"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string granada::http::session::Session::application_session_token_support_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Where the session token is stored: cookie || query || json by default. This value is taken from the "session_token_support" property of the server.conf file. If no value is indicated the value will be taken from the "session_token_support" property in defaults.dat </p>

</div>
</div>
<a class="anchor" id="ac4d29f9726c48a6e70abec0934485e15"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; granada::http::session::Session::DEFAULT_SESSIONS_TOKEN_SUPPORT</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default token support, cookie || query || json. Where the token will be stored-retrieved in the client-side. This default value is taken in case "session_token_support" property is not found. </p>

</div>
</div>
<a class="anchor" id="a37565851726c422e7b7d2a3fd4e3c914"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex granada::http::session::Session::session_exists_mtx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Mutex used when performing an action after checking that a session exists, for example when opening a session. </p>

</div>
</div>
<a class="anchor" id="ac3c99af2cf5d8dfa9884d82f6aade0b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long granada::http::session::Session::session_garbage_extra_timeout_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of seconds that needs to pass after a session is timed out to be considered garbage. in the "session_garbage_extra_timeout" property If no property indicated, it will take default_numbers::session_session_garbage_extra_timeout. </p>

</div>
</div>
<a class="anchor" id="aad9c3bd3ec17f9a7bda43610e80e7ee5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string granada::http::session::Session::session_token_support_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Where the session token is stored: cookie || query || json for this session. It can be different from the application_session_token_support_ </p>

</div>
</div>
<a class="anchor" id="a5902a2d6693e3303dae35431d70e4e6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string granada::http::session::Session::token_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classgranada_1_1http_1_1session_1_1_session.html">Session</a> token: Unique identifier of the session. </p>

</div>
</div>
<a class="anchor" id="a0447fa734240b4dd831471520eca07b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string granada::http::session::Session::token_label_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The name of the cookie or the key where the token value is stored. This value is taken from the "session_token_label" property of the server.conf file. If no value is indicated the value will be taken from the "session_token_label" property in defaults.dat </p>

</div>
</div>
<a class="anchor" id="a41b9638ecdde26dc32c3ee1fac6639fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::time_t granada::http::session::Session::update_time_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Last time we have used the session. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/opt/github_granada/Release/include/granada/http/session/<a class="el" href="session_8h_source.html">session.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 18 2016 12:52:05 for Granada by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
